/*!
 * Copyright 2021 James Lyne
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/*******************
 * players on the map
 */

.marker {
	display: flex;
	align-items: center;

	&.marker--player {
   		transition: transform 0.3s ease-in 0s;

		.marker__label {
			display: block;
		}

		.player__health,
		.player__armor {
			width: 50px;
		}

		.player__health,
		.player__armor,
		.player__health-bar,
		.player__armor-bar {
			height: 7px;
		}

		.player__health {
			background: url(../assets/images/heart_depleted.png) repeat-x left center;
		}

		.player__health-bar {
			background: url(../assets/images/heart.png) repeat-x left center;
		}

		.player__armor {
			background: url(../assets/images/armor_depleted.png) repeat-x left center;
		}

		.player__armor-bar {
			background: url(../assets/images/armor.png) repeat-x left center;
		}
	}

	.marker__label {
		flex: 0 0 auto;
		z-index: 20;
		font-size: 1.5rem;
		line-height: 1;
		white-space: pre-line;
		color: var(--text-base);
		background: var(--background-dark);
		padding: 0.2rem;
		display: none;
		margin-left: 0.2rem;
		width: max-content;
		max-width: 30rem;

		@at-root .leaflet-pane--show-labels .marker__label {
			display: block !important;
		}
	}

	&:hover, &:focus {
		z-index: 1000;

		.marker__label {
			display: block;
			outline: auto;
		}
	}

	&:focus .marker__label {
		outline: auto;
	}

	@include focus-reset {
		z-index: auto;

		.marker__label {
			display: none;
		}
	}

	@at-root {
		.no-animations .marker.marker--player {
			transition: none;
		}
	}

	@media print {
		display: none !important;
	}
}
